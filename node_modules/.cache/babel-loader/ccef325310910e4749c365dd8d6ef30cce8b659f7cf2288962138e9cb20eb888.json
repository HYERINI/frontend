{"ast":null,"code":"var _jsxFileName = \"/Users/ihyelin/Desktop/\\u110E\\u116C\\u110C\\u1169\\u11BC\\u314A\\u1109\\u1169\\u11B7\\u1112\\u1161\\u11B8\\u110E\\u1175\\u11B7/src/components/WithDraw/WithDraw.js\",\n  _s = $RefreshSig$();\nimport './WithDraw.css';\nimport Title from './../Title/Title';\nimport MenuBar from './../MenuBar/MenuBar';\nimport profile from '../../img/profile_ex.png';\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const token = localStorage.getItem('token');\n  const [users, setUsers] = useState([]);\n  const [Password, setPassword] = useState(\"\");\n  const onPasswordHandler = event => {\n    setPassword(event.currentTarget.value);\n  };\n  window.onload = axios({\n    method: \"get\",\n    url: \"http://54.180.210.232/api/v1/my\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + localStorage.getItem('token')\n    }\n  }).then(res => {\n    setUsers(res.data.result.name);\n  }).catch(error => {\n    alert(\"어쩌지이... ? 안 뜨는데에..\");\n  });\n  const onWithDraw = e => {\n    var withDrawYn = window.confirm('정말 탈퇴하시겠습니까?');\n    if (withDrawYn) {\n      axios({\n        method: \"post\",\n        url: \"http://54.180.210.232/api/v1/signout\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + localStorage.getItem('token')\n        },\n        data: {\n          \"password\": Password\n        }\n      }).then(res => {\n        alert('탈퇴가 완료되었습니다.');\n        navigate('/');\n      }).catch(error => {\n        alert(\"어쩌지이... ? 안 뜨는데에..\");\n      });\n    } else {\n      navigate('/');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      title: \"\\uD0C8\\uD1F4\\uD558\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"withdraw-wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userName\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [users, \" \\uB2D8\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this), \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"withdraw-input-wrap\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"withdraw-pw-input\",\n          type: \"password\",\n          onChange: onPasswordHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"withdraw-bt-wrap\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: onWithDraw,\n          children: \"\\uD0C8\\uD1F4\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MenuBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(MyPage, \"I3pITXUQCo+0pgV/0tspVgBIQoo=\", false, function () {\n  return [useNavigate];\n});\n_c = MyPage;\nexport default MyPage;\nvar _c;\n$RefreshReg$(_c, \"MyPage\");","map":{"version":3,"names":["Title","MenuBar","profile","React","useEffect","useState","useNavigate","axios","MyPage","navigate","token","localStorage","getItem","users","setUsers","Password","setPassword","onPasswordHandler","event","currentTarget","value","window","onload","method","url","headers","Authorization","then","res","data","result","name","catch","error","alert","onWithDraw","e","withDrawYn","confirm"],"sources":["/Users/ihyelin/Desktop/최종ㅊ솜합침/src/components/WithDraw/WithDraw.js"],"sourcesContent":["import './WithDraw.css';\nimport Title from './../Title/Title';\nimport MenuBar from './../MenuBar/MenuBar';\nimport profile from '../../img/profile_ex.png';\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst MyPage = () => {\n\n  const navigate = useNavigate();\n\n  const token = localStorage.getItem('token');\n\n  const [users, setUsers] = useState([]);\n  const [Password, setPassword] = useState(\"\");\n  \n  const onPasswordHandler = (event) => {\n    setPassword(event.currentTarget.value);\n  }\n\n  window.onload = axios({\n    method: \"get\",\n    url: \"http://54.180.210.232/api/v1/my\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + localStorage.getItem('token')\n    },\n    }).then((res) => {\n        setUsers(res.data.result.name);\n    }).catch((error) => {\n        alert(\"어쩌지이... ? 안 뜨는데에..\");\n    });\n\n  const onWithDraw = (e) => {\n    var withDrawYn = window.confirm('정말 탈퇴하시겠습니까?');\n    if (withDrawYn){\n        axios({\n          method: \"post\",\n          url: \"http://54.180.210.232/api/v1/signout\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + localStorage.getItem('token')\n            },\n            data: {\n                \"password\" : Password\n            },\n            }).then((res) => {\n                alert('탈퇴가 완료되었습니다.')\n                navigate('/');\n            }).catch((error) => {\n                alert(\"어쩌지이... ? 안 뜨는데에..\");\n            });\n    }else{\n        navigate('/');\n    }\n  }\n  return (\n    <div>\n      <Title title=\"탈퇴하기\" />\n      <div className=\"withdraw-wrap\">\n        <div className=\"userName\">\n            <p>\n                {users} 님\n                <br/>비밀번호를 입력해주세요.\n            </p>\n        </div>\n        <div className=\"withdraw-input-wrap\"> \n            <input className=\"withdraw-pw-input\" type=\"password\" onChange={onPasswordHandler}>\n            \n            </input>\n        </div>\n        <div className=\"withdraw-bt-wrap\">\n            <button type=\"button\" onClick={onWithDraw}>탈퇴하기</button>\n        </div>\n      </div>\n      <MenuBar />\n    </div>\n  )\n}\n\nexport default MyPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}